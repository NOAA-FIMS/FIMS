<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>FIMS User Setup Guide ‚Ä¢ FIMS</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="‚Äùimage/svg+xml‚Äù" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="FIMS User Setup Guide">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&amp;display=swap" rel="stylesheet">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <img class="navlogo" src="https://noaa-fims.github.io/images/FIMS_logo3.png" width="60" align="left"><a class="navbar-brand me-2" href="../index.html">FIMS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://github.com/NOAA-FIMS/FIMS/releases/latest">Latest release</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reports" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reports</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reports">
<li><a class="dropdown-item" href="../coverage/coverage.html">coverage</a></li>
    <li><a class="dropdown-item" href="../coverage/codecoverage_explanation.html">coverage explained</a></li>
    <li><a class="dropdown-item" href="../testdown/index.html">testdown</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://noaa-fims.github.io/">fims website</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/noaa-fims/fims/" aria-label="GitHub repository for FIMS"><span class="fa fa-brands fa-github fa-lg"></span></a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>FIMS User Setup Guide</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/noaa-fims/fims/blob/main/vignettes/fims-user-setup-guide.Rmd" class="external-link"><code>vignettes/fims-user-setup-guide.Rmd</code></a></small>
      <div class="d-none name"><code>fims-user-setup-guide.Rmd</code></div>
    </div>

    
    
<div id="expand-collapse-buttons" style="margin-bottom: 20px;">
<p><button onclick="expandAll()" class="btn btn-primary">Expand
All</button>
<button onclick="collapseAll()" class="btn btn-secondary">Collapse
All</button></p>
</div>
<script>
function expandAll() {
  const details = document.querySelectorAll('details');
  details.forEach((detail) => {
    detail.setAttribute('open', 'true');
  });
}

function collapseAll() {
  const details = document.querySelectorAll('details');
  details.forEach((detail) => {
    detail.removeAttribute('open');
  });
}
</script><div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This guide helps FIMS users set up a standardized Fisheries
Integrated Modeling System (FIMS) environment. By using <a href="https://cloud.google.com/workstations?hl=en" class="external-link">cloud-based
workstations</a> and pre-configured software setups (<a href="https://www.ibm.com/think/topics/containers" class="external-link">containers</a>), we
make sure the system works the same for everyone and remove the need for
you to manually install the dependencies FIMS requires.</p>
<p>Please follow the section below that matches your preferred
setup:</p>
<table class="table">
<colgroup>
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th align="left">Option</th>
<th align="left">Best For</th>
<th align="left">Where it Runs</th>
<th align="left">Setup Effort</th>
<th align="left">Internet Needed</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">‚òÅÔ∏è <strong><a href="#google-cloud-workstations">Google
Cloud Workstations</a></strong>
</td>
<td align="left">
<strong>NOAA-internal users</strong> interested in
using Google Cloud Workstations.</td>
<td align="left">Cloud Browser</td>
<td align="left">
<strong>Moderate</strong> (requires running a one-line
command)</td>
<td align="left"><strong>Always</strong></td>
</tr>
<tr class="even">
<td align="left">üåê <strong><a href="#github-codespaces">GitHub
Codespaces</a></strong>
</td>
<td align="left">Anyone with a <strong>GitHub account</strong> who wants
a fast, browser-based environment.</td>
<td align="left">Browser</td>
<td align="left"><strong>Minimal</strong></td>
<td align="left"><strong>Always</strong></td>
</tr>
<tr class="odd">
<td align="left">üêß <strong><a href="#wsl2">WSL2</a></strong>
</td>
<td align="left">Windows users who want to run the <strong>FIMS
container</strong> in a local Linux environment.</td>
<td align="left">Local Machine</td>
<td align="left">
<strong>Moderate</strong> to <strong>Complex</strong>
(if WSL2 not installed)</td>
<td align="left"><strong>Setup only</strong></td>
</tr>
<tr class="even">
<td align="left">üßë‚Äçüíª <strong><a href="#local">Local</a></strong>
</td>
<td align="left">
<strong>Everyone else</strong> installing packages
directly on their own operating system.</td>
<td align="left">Local Machine</td>
<td align="left">
<strong>Moderate</strong> (requires running a one-line
command)</td>
<td align="left"><strong>Setup only</strong></td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="google-cloud-workstations">‚òÅÔ∏è Google Cloud Workstations<a class="anchor" aria-label="anchor" href="#google-cloud-workstations"></a>
</h2>
<p>NOAA Fisheries Google Cloud Workstations provide a managed RStudio,
Code OSS (the open source version of Visual Studio Code), or Positron
environment. For detailed visual guides (e.g., snapshots) on starting,
stopping, or managing workstations, please refer to the <a href="https://docs.google.com/document/d/1nziPdPULoRWOYQ9WKzISNUgJvANACvfYpFr1z3Ro2Bc/edit?tab=t.0#heading=h.5509095bxzv7" class="external-link">NOAA-internal
documentation</a>.</p>
<ul>
<li><p><strong>NOAA internal only:</strong> To request access to the
NOAA Fisheries Cloud Compute Accelerator Program, please follow the
steps <a href="https://docs.google.com/document/d/1nziPdPULoRWOYQ9WKzISNUgJvANACvfYpFr1z3Ro2Bc/edit?tab=t.0#heading=h.adsdqttdaso0" class="external-link">here</a>
to submit a <a href="https://docs.google.com/forms/d/e/1FAIpQLSc-RSmPhLV7kBuiiuAzxb2LvWG7Q6XrNbQCbhJZtvaVVtOVZQ/viewform?usp=sharing&amp;ouid=112419493802230683932" class="external-link">request
form</a>.</p></li>
<li><p>Navigate to the NOAA Fisheries <a href="https://console.cloud.google.com/workstations/list?project=ggn-nmfs-wsent-prod-1" class="external-link">Google
Cloud Workstations Console</a> and click
<code>+ create workstation</code>.</p></li>
<li><p>Provide a name for the workstation, select a configuration, and
click the <code>Create</code> button.</p></li>
</ul>
<blockquote>
<p><strong>Note:</strong> Configurations with low core counts
(<code>*-small</code>) will lead to failed compilation of FIMS due to
insufficient memory. Use <code>posit-medium</code> or
<code>posit-large</code> for workshops and rapid testing, as they have
faster startup times and multiple IDE options. The
<code>nmfs-rstudio-medium</code> or <code>nmfs-rstudio-large</code>
options can also be used by users who prefer to work in RStudio.</p>
</blockquote>
<ul>
<li><p>Click the <code>Start</code> and <code>Launch</code> buttons to
initialize the workstation. It is normal for a workstation to take a
minute or two to spin up.</p></li>
<li><p>Add a new session from either <code>Positron Pro</code>,
<code>RStudio Pro</code>, or <code>VS Code</code> when using
<code>posit-*</code> configurations, and then <code>Launch</code> the
session.</p></li>
<li><p>Open a <a href="https://www.atlassian.com/git/tutorials/git-bash" class="external-link">bash
terminal</a> within your session and copy/paste this command below. This
will automatically set up the workstation by installing all necessary
system and R dependencies.</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">bash</span> <span class="op">&lt;(</span><span class="ex">curl</span> <span class="at">-sL</span> https://raw.githubusercontent.com/NOAA-FIMS/FIMS/main/setup_fims.sh<span class="op">)</span></span></code></pre></div>
<blockquote>
<p><strong>Note:</strong> The dependency installation process typically
takes 10 minutes. If using <code>Positron Pro</code>, a restart of the R
session is required to initialize the new libraries.</p>
<p>Please run <code><a href="https://github.com/noaa-fims/fims" class="external-link">library(FIMS)</a></code> in the R session to confirm the
successful installation of FIMS. If the installation is successful, no
messages or errors will appear. If it is unsuccessful, you will see an
error such as:
<code>Error in library(FIMS) : there is no package called 'FIMS'</code>.</p>
<p>Alternatively, you can run the R script below to perform a full FIMS
model run.</p>
</blockquote>
<ul>
<li>To verify that FIMS is ready, run the R code below to download the
FIMS demo R script:</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/knit.html" class="external-link">purl</a></span><span class="op">(</span></span>
<span>  input <span class="op">=</span> <span class="st">'https://raw.githubusercontent.com/NOAA-FIMS/FIMS/refs/heads/main/vignettes/fims-demo.Rmd'</span>,</span>
<span>  output <span class="op">=</span> <span class="st">'fims_demo.R'</span>,</span>
<span>  documentation <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">'fims_demo.R'</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>To stop a workstation, close the workstation page and go to the
<code>Overview</code> page of the workstations user interface to click
the <code>‚ñ†</code> (stop) button. Stopping a workstation does not delete
it, ensuring that files and settings remain intact.</li>
</ul>
<details><summary>
ü§ø Deep dive: R code to connect GitHub to a Google Cloud Workstation
(Click to expand)
</summary><p>A Personal Access Token (PAT) can be used to link a workstation to a
GitHub Enterprise Account. Please follow GitHub‚Äôs instructions (<a href="https://github.com/settings/tokens" class="external-link">PAT settings</a> and <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens" class="external-link">tutorial</a>)
to generate a PAT. Then, use the R code below from <a href="https://github.com/nmfs-opensci/CloudComputingSetup" class="external-link"><code>nmfs-opensci/CloudComputingSetup</code></a>
to link a workstation to a GitHub Enterprise account.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># R code to connect github to a Google Cloud Workstation</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co"># Author: Alexandra Norelli</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co"># Go to Github and generate a Personal Access Token (PAT) with the permissions </span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co"># you need:  </span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="co"># https://github.com/settings/tokens</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co"># Github tutorial here: </span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co"># https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co"># Github Governaance Team Video tutorial here:  </span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="co"># https://drive.google.com/file/d/1tbbw_xXARK689Zj5tm4lVo18aBaXhdKX/view?t=4</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="co"># ctrl+f and replace USER_NAME with your username</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="co"># ctrl+f and replace E_MAIL with your email address</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="co"># ctrl+f and replace TOKEN with your PAT Token</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="ex">system</span><span class="er">(</span><span class="st">'git config --global user.name "USER_NAME"'</span><span class="kw">)</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="ex">system</span><span class="er">(</span><span class="st">'git config --global user.email "E_MAIL"'</span><span class="kw">)</span></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="ex">system</span><span class="er">(</span><span class="st">"git config --list"</span><span class="kw">)</span>  <span class="co">#check that the info is correct</span></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a><span class="ex">cred_line</span> <span class="op">&lt;</span>- <span class="st">"https://USER_NAME:TOKEN@github.com"</span></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="ex">writeLines</span><span class="er">(</span><span class="ex">cred_line,</span> <span class="st">"~/.git-credentials"</span><span class="kw">)</span></span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a><span class="ex">system</span><span class="er">(</span><span class="st">'git config --global credential.helper store'</span><span class="kw">)</span></span></code></pre></div>
</details><details><summary>
ü§ø Deep dive: Terminal code for mounting Google Cloud Storage Buckets
(Click to expand)
</summary><p>To mount a Google Cloud Storage Bucket, which makes the cloud storage
act like a local folder on the Google Cloud Workstation for easy reading
and writing of data, use the R example below from <a href="https://github.com/nmfs-opensci/CloudComputingSetup" class="external-link"><code>nmfs-opensci/CloudComputingSetup</code></a>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Terminal code for mounting Google Cloud Buckets to Google Cloud Workstations</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co"># Author: Alexandra Norelli with Gemini assistance for R to BASH translations.  </span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co"># Paste all of this code in the terminal and follow the instructions to </span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co"># authenticate your google account.  </span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co"># Define your bucket and the mount point.</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co"># replace "nmfs-opensci" with your bucket name</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co"># The `$HOME` symbol is a shortcut for your home directory, so this will</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co"># create the folder at /home/your_username/my_gcs_bucket.</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="va">BUCKET_NAME</span><span class="op">=</span><span class="st">"nmfs-opensci"</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="va">MOUNT_POINT</span><span class="op">=</span><span class="st">"</span><span class="va">$HOME</span><span class="st">/my_gcs_bucket"</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="co"># --- Authentication ---</span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="co"># This command authenticates your user account with Google Cloud.</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="co"># You'll be prompted to open a browser to complete the login process.</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Running gcloud authentication. Please follow the instructions to log in in your browser."</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="ex">gcloud</span> auth application-default login <span class="at">--no-launch-browser</span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="co"># --- Installation and Setup (Run only once) ---</span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="co"># Create the mount point if it doesn't exist.</span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="co"># Since this directory is in your home folder, you don't need `sudo` to create it.</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="ot">!</span> <span class="ot">-d</span> <span class="st">"</span><span class="va">$MOUNT_POINT</span><span class="st">"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a>    <span class="fu">mkdir</span> <span class="at">-p</span> <span class="st">"</span><span class="va">$MOUNT_POINT</span><span class="st">"</span></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a><span class="cf">fi</span></span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a><span class="co"># Add the Google Cloud GPG key to your system's trusted keys.</span></span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a><span class="co"># This is a critical step to verify the authenticity of the packages.</span></span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-fsSL</span> https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="kw">|</span> <span class="fu">sudo</span> gpg <span class="at">--dearmor</span> <span class="at">-o</span> /etc/apt/trusted.gpg.d/gcsfuse.gpg</span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a></span>
<span id="cb4-30"><a href="#cb4-30" tabindex="-1"></a><span class="co"># Add the GCS FUSE repository to your system's sources list.</span></span>
<span id="cb4-31"><a href="#cb4-31" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"deb [signed-by=/etc/apt/trusted.gpg.d/gcsfuse.gpg] https://packages.cloud.google.com/apt gcsfuse-</span><span class="kw">`</span><span class="ex">lsb_release</span> <span class="at">-c</span> <span class="at">-s</span><span class="kw">`</span><span class="st"> main"</span> <span class="kw">|</span> <span class="fu">sudo</span> tee /etc/apt/sources.list.d/gcsfuse.list <span class="op">&gt;</span> /dev/null</span>
<span id="cb4-32"><a href="#cb4-32" tabindex="-1"></a></span>
<span id="cb4-33"><a href="#cb4-33" tabindex="-1"></a><span class="co"># Update the package list to include the new repository.</span></span>
<span id="cb4-34"><a href="#cb4-34" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Updating package list..."</span></span>
<span id="cb4-35"><a href="#cb4-35" tabindex="-1"></a><span class="fu">sudo</span> apt-get update</span>
<span id="cb4-36"><a href="#cb4-36" tabindex="-1"></a></span>
<span id="cb4-37"><a href="#cb4-37" tabindex="-1"></a><span class="co"># Install gcsfuse.</span></span>
<span id="cb4-38"><a href="#cb4-38" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Installing gcsfuse..."</span></span>
<span id="cb4-39"><a href="#cb4-39" tabindex="-1"></a><span class="fu">sudo</span> apt-get install <span class="at">-y</span> gcsfuse</span>
<span id="cb4-40"><a href="#cb4-40" tabindex="-1"></a></span>
<span id="cb4-41"><a href="#cb4-41" tabindex="-1"></a><span class="co"># --- Mounting the Bucket ---  you might only need to run this if restarting a workstation</span></span>
<span id="cb4-42"><a href="#cb4-42" tabindex="-1"></a><span class="co"># Use the gcsfuse tool to mount the bucket to the specified mount point.</span></span>
<span id="cb4-43"><a href="#cb4-43" tabindex="-1"></a><span class="co"># The mount point is in your home directory, so `sudo` is no longer needed.</span></span>
<span id="cb4-44"><a href="#cb4-44" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Mounting the bucket..."</span></span>
<span id="cb4-45"><a href="#cb4-45" tabindex="-1"></a><span class="ex">gcsfuse</span> <span class="at">--implicit-dirs</span> <span class="st">"</span><span class="va">$BUCKET_NAME</span><span class="st">"</span> <span class="st">"</span><span class="va">$MOUNT_POINT</span><span class="st">"</span></span>
<span id="cb4-46"><a href="#cb4-46" tabindex="-1"></a></span>
<span id="cb4-47"><a href="#cb4-47" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Mounting complete. You can now access the bucket contents at </span><span class="va">$MOUNT_POINT</span><span class="st">"</span></span>
<span id="cb4-48"><a href="#cb4-48" tabindex="-1"></a></span>
<span id="cb4-49"><a href="#cb4-49" tabindex="-1"></a><span class="co"># Optional: List the contents to verify the mount was successful.</span></span>
<span id="cb4-50"><a href="#cb4-50" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-l</span> <span class="st">"</span><span class="va">$MOUNT_POINT</span><span class="st">"</span></span></code></pre></div>
</details><details><summary>
ü§ø Deep dive: R code to read/write to Google Cloud Storage Buckets
(Click to expand)
</summary><p>Work through local IT to request a data bucket. To read/write data to
a Google Cloud Storage Bucket, use the R example below:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># R code to read and write data to Google Cloud Storage Bucket</span></span>
<span><span class="co"># - This R script uses a "cloud mount", meaning the Google Bucket behaves like a local</span></span>
<span><span class="co">#   folder on your workstation located at "~/my_gcs_bucket".</span></span>
<span><span class="co"># - Current code links to a data bucket set up by FIMS located at</span></span>
<span><span class="co">#   https://console.cloud.google.com/storage/browser/nsaw-2026-fims-training.</span></span>
<span><span class="co"># - Permissions to view, read, and write to this data bucket must be amended by FIMS team.</span></span>
<span></span>
<span><span class="co"># Define the root path for the shared Google Cloud Storage bucket</span></span>
<span><span class="va">gcs_bucket_root</span> <span class="op">&lt;-</span> <span class="st">"~/my_gcs_bucket"</span></span>
<span></span>
<span><span class="co"># List all files and directories in the top level of the bucket</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">gcs_bucket_root</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List contents of the shared training materials folder</span></span>
<span><span class="va">training_folder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">gcs_bucket_root</span>, <span class="st">"training_materials"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">training_folder</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a personal folder and change 'firstname_lastname' to your name</span></span>
<span><span class="va">user_folder_name</span> <span class="op">&lt;-</span> <span class="st">"firstname_lastname"</span></span>
<span><span class="va">user_folder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">gcs_bucket_root</span>, <span class="va">user_folder_name</span><span class="op">)</span></span>
<span><span class="co"># Create the directory if it does not already exist</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.exists</a></span><span class="op">(</span><span class="va">user_folder</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">user_folder</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Pull the latest FIMS demo and save it directly to the cloud folder</span></span>
<span><span class="va">demo_url</span> <span class="op">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/NOAA-FIMS/FIMS/refs/heads/main/vignettes/fims-demo.Rmd"</span></span>
<span><span class="va">local_script_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">user_folder</span>, <span class="st">"fims_demo.R"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/knit.html" class="external-link">purl</a></span><span class="op">(</span></span>
<span>  input <span class="op">=</span> <span class="va">demo_url</span>, </span>
<span>  output <span class="op">=</span> <span class="va">local_script_path</span>,</span>
<span>  documentation <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Execute the downloaded demo script</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="va">local_script_path</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define the file path for saving the model fit</span></span>
<span><span class="va">fit_output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">user_folder</span>, <span class="st">"fit.RDS"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span></span>
<span>  object <span class="op">=</span> <span class="va">fit</span>,</span>
<span>  file <span class="op">=</span> <span class="va">fit_output_path</span> ,</span>
<span>  compress <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Verify the save by removing the local object and reading it back from the bucket</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">folder_path</span>, <span class="st">"fit.RDS"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</details><details><summary>
üóÇÔ∏è Cloud Computing Documentation (Click to expand)
</summary><ul>
<li><p><a href="https://docs.google.com/document/d/1nziPdPULoRWOYQ9WKzISNUgJvANACvfYpFr1z3Ro2Bc/edit?usp=sharing" class="external-link">NOAA
Fisheries Cloud Program</a> began a Cloud Compute Accelerator Pilot in
early 2025: Enhancing NOAA Fisheries‚Äô Mission with Google Cloud
Workstations.</p></li>
<li><p>Consult the Pilot Participant <a href="https://docs.google.com/document/d/1U1PzGS7G70xsXtD6F6WxkjTSCw7bwNVyZ-YnFyOLOqU/edit?usp=sharing" class="external-link">Frequently
Asked Questions</a> for support regarding access and billing.</p></li>
<li><p><a href="https://github.com/nmfs-opensci/CloudComputingSetup/" class="external-link">NOAA
Fisheries Cloud Computing Setup repository</a> details cloud computing
resources at NOAA Fisheries, with a focus on Google Cloud Workstations
for R users. It includes instructions for linking workstations to GitHub
and mounting Google Cloud Storage buckets.</p></li>
</ul></details>
</div>
<div class="section level2">
<h2 id="github-codespaces">üåê GitHub Codespaces<a class="anchor" aria-label="anchor" href="#github-codespaces"></a>
</h2>
<p><a href="https://docs.github.com/en/codespaces" class="external-link">GitHub Codespaces</a>
offers a <a href="https://www.atlassian.com/microservices/cloud-computing/containers-as-a-service" class="external-link">‚Äúcontainer-as-a-service‚Äù</a>
model that provides a pre-configured FIMS environment directly in your
browser.</p>
<p>To open the container in a Codespace using the internet browser of
your choice please follow the instructions below. You can navigate there
directly by clicking on <a href="https://github.com/codespaces/new?hide_repo_select=true&amp;ref=main&amp;repo=452012004&amp;skip_quickstart=true&amp;machine=standardLinux32gb&amp;devcontainer_path=.devcontainer%2Fuser%2Fdevcontainer.json&amp;geo=UsEast" class="external-link">this
link</a> or follow the manual steps below.</p>
<ul>
<li><p>Click the green <code>Code</code> button on the <a href="https://github.com/NOAA-FIMS/FIMS" class="external-link">FIMS repository</a>.</p></li>
<li><p>Click the <code>...</code> (three dots) next to the
<code>+</code> icon in the Codespaces tab.</p></li>
<li><p>Select <code>New with options ...</code>.</p></li>
<li><p>Under the dropdown menu labeled
<code>Dev container configuration</code>, select <code>FIMS User</code>
or <code>FIMS Developer</code>, depending on your role.</p></li>
<li><p>If you plan to run a FIMS model, change the
<code>Machine type</code> from the default <code>2-core</code> to at
least <code>4-core</code>. The default <code>2-core</code> will not
allow you to compile {FIMS} and will lead to your R session unexpectedly
crashing but it is set as the default because we pay for each minute
used in Codespaces whether the session is actively being used or sitting
idle and 2 cores is much cheaper.</p></li>
<li><p>Click the green <code>Create codespace</code> button.</p></li>
<li><p>To verify that FIMS is ready, run the R code below to download
the FIMS demo R script:</p></li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/knit.html" class="external-link">purl</a></span><span class="op">(</span></span>
<span>  input <span class="op">=</span> <span class="st">'https://raw.githubusercontent.com/NOAA-FIMS/FIMS/refs/heads/main/vignettes/fims-demo.Rmd'</span>,</span>
<span>  output <span class="op">=</span> <span class="st">'fims_demo.R'</span>,</span>
<span>  documentation <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">'fims_demo.R'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="wsl2">üêß WSL2<a class="anchor" aria-label="anchor" href="#wsl2"></a>
</h2>
<p>For Windows users who prefer local execution of the FIMS user
container, we recommend using WSL2 in conjunction with Docker
Engine.</p>
<p>To open the container on your local Windows machine using Windows
Subsystem for Linux 2 (WSL2), Docker Engine, and Visual Studio Code (VS
Code) use the following instructions:</p>
<div class="section level3">
<h3 id="connect-vs-code-to-wsl">Connect VS Code to WSL<a class="anchor" aria-label="anchor" href="#connect-vs-code-to-wsl"></a>
</h3>
<ul>
<li>Open VS Code and press <code>Ctrl + Shift + P</code> to open the
command palette.</li>
<li>Type and select <code>WSL: Connect to WSL using Distro</code>.</li>
<li>Choose <code>Ubuntu</code> from the list.</li>
</ul>
</div>
<div class="section level3">
<h3 id="clone-fims-repository-first-time-only">Clone FIMS repository (first time only)<a class="anchor" aria-label="anchor" href="#clone-fims-repository-first-time-only"></a>
</h3>
<ul>
<li>Once connected to WSL, open a new terminal in VS Code.</li>
<li>Clone the project repository inside the WSL2 file system.</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/NOAA-FIMS/FIMS.git</span></code></pre></div>
<blockquote>
<p><strong>Note:</strong> For other FIMS-related projects, feel free to
use the <a href="https://github.com/NOAA-FIMS/FIMS/tree/main/.devcontainer/user" class="external-link">example</a>
in the <code>FIMS/.devcontainer/user</code> folder as a template to set
up similar devcontainer environments for your own repositories.</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="open-fims-in-dev-container">Open FIMS in Dev Container<a class="anchor" aria-label="anchor" href="#open-fims-in-dev-container"></a>
</h3>
<ul>
<li>In VS Code and press <code>Ctrl + O</code> to open the FIMS Folder
you just cloned.</li>
<li>Press <code>Ctrl + Shift + P</code> to open the command
palette.</li>
<li>Type and select
<code>Dev Containers: Reopen in Container</code>.</li>
<li>Select <code>FIMS User</code> if you want to run stock assessments
using FIMS. Select <code>FIMS Developer</code> if you are contributing
to the source code or maintaining the FIMS repository.</li>
<li>Docker will now build the container. The first build can take
several minutes for a <code>FIMS Developer</code> setup and about 15
minutes for a <code>FIMS User</code> setup.</li>
</ul>
</div>
<div class="section level3">
<h3 id="close-the-container">Close the container<a class="anchor" aria-label="anchor" href="#close-the-container"></a>
</h3>
<p>When you‚Äôre finished, open the Command Palette
(<code>Ctrl + Shift +P</code>) and type
<code>Remote: Close Remote Connection</code>.</p>
<blockquote>
<p><strong>Note:</strong> To verify that FIMS is ready, run the R code
below to download the FIMS demo R script:</p>
</blockquote>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/knit.html" class="external-link">purl</a></span><span class="op">(</span></span>
<span>  input <span class="op">=</span> <span class="st">'https://raw.githubusercontent.com/NOAA-FIMS/FIMS/refs/heads/main/vignettes/fims-demo.Rmd'</span>,</span>
<span>  output <span class="op">=</span> <span class="st">'fims_demo.R'</span>,</span>
<span>  documentation <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">'fims_demo.R'</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="local">üßë‚Äçüíª Local<a class="anchor" aria-label="anchor" href="#local"></a>
</h2>
<p>Users wishing to install FIMS directly on their host operating system
(Windows, Linux, or macOS) can do so using the
<code>setup_fims.sh</code> bash script. To install, execute the
following command in the bash terminal:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">bash</span> <span class="op">&lt;(</span><span class="ex">curl</span> <span class="at">-sL</span> https://raw.githubusercontent.com/NOAA-FIMS/FIMS/main/setup_fims.sh<span class="op">)</span></span></code></pre></div>
<ul>
<li>To verify that FIMS is ready, run the R code below to download the
FIMS demo R script:</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/knit.html" class="external-link">purl</a></span><span class="op">(</span></span>
<span>  input <span class="op">=</span> <span class="st">'https://raw.githubusercontent.com/NOAA-FIMS/FIMS/refs/heads/main/vignettes/fims-demo.Rmd'</span>,</span>
<span>  output <span class="op">=</span> <span class="st">'fims_demo.R'</span>,</span>
<span>  documentation <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">'fims_demo.R'</span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p><strong>Note:</strong> For Windows users, Git Bash is required. If
you are using RStudio on Windows, make sure the terminal is configured
to use Git Bash. You can do this by going to <code>Tools</code> -&gt;
<code>Global Options...</code> -&gt; <code>Terminal</code>, and
selecting <code>Git Bash</code> under
<code>New terminals open with:</code>.</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong> This setup is designed to avoid overwriting
existing FIMS installations by isolating the new environment. The script
aims to create a dedicated library folder and prepend it to the R search
path (<code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code>). FIMS is then installed into this
specific location. The setup attempts to configure R to prioritize this
custom folder automatically in future R sessions. If you wish to return
to your previous FIMS environment, you can typically do so by removing
the custom folder path from your <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code> or deleting
the folder; R is designed to then fall back to the next available
path.</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="need-help">üôã Need Help?<a class="anchor" aria-label="anchor" href="#need-help"></a>
</h2>
<ul>
<li><p>If the instructions above do not work, please visit the FIMS <a href="https://github.com/orgs/NOAA-FIMS/discussions/1073" class="external-link">discussion
page</a> to see known issues and documented solutions. If you encounter
a new error, feel free to post it there for technical
assistance.</p></li>
<li><p>To report errors in this guide, please <a href="https://github.com/NOAA-FIMS/FIMS/issues" class="external-link">open an issue</a> on
GitHub.</p></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kelli F. Johnson, Jon K. T. Brodziak, Kathryn L. Doering, Andrea M. Havron, Ronald Klasky, Peter T. Kuriyama, Christopher M. Legault, Bai Li, Timothy J. Miller, Cole C. Monnahan, Megumi C. Oshima, Kyle W. Shertzer, Christine C. Stawitz, Jane Y. Sullivan, Matthew Supernaw, Ian G. Taylor, Nathan R. Vaughan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
