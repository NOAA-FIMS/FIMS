% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_default_configurations.R
\name{create_default_configurations}
\alias{create_default_configurations}
\title{Create a default FIMS configuration tibble}
\usage{
create_default_configurations(data, model_family = c("catch_at_age"))
}
\arguments{
\item{data}{An S4 object of class \code{FIMSFrame}. FIMS input data.}

\item{model_family}{A string specifying the model family.
Defaults to \code{"catch_at_age"}.}
}
\value{
A \code{tibble} with default model configurations. The tibble has a nested
structure with the following top-level columns.
\describe{
\item{\code{model_family}:}{The specified model family (e.g.,
"catch_at_age").}
\item{\code{module_name}:}{The name of the FIMS module (e.g.,
"Data", "Selectivity", "Recruitment", "Growth", "Maturity").}
\item{\code{fleet_name}:}{The name of the fleet the module applies to. This
will be \code{NA} for non-fleet-specific modules like "Recruitment".}
\item{\code{data}:}{A list-column containing a \code{tibble} with detailed
configurations. Unnesting this column reveals:
\describe{
\item{\code{module_type}:}{The specific type of the module (e.g.,
"Logistic" for a "Selectivity" module).}
\item{\code{distribution_link}:}{The component the distribution module
links to.}
\item{\code{distribution_type}:}{The type of distribution (e.g., "Data",
"process").}
\item{\code{distribution}:}{The name of distribution (e.g.,
"Dlnorm", \code{Dmultinom}).}
}
}
}
}
\description{
This function generates a default configuration tibble for a Fisheries
Integrated Modeling System (FIMS) model based on the data input. It
automatically creates configuration entries for data modules (e.g., landings,
index, compositions) and, depending on the model family, standard population
dynamics modules (recruitment, growth, maturity) and selectivity modules for
fleets.
}
\details{
The function inspects the data to find unique combinations of fleet
names and data types. It then maps these to the appropriate FIMS module names
and joins them with a predefined template of default settings. When the
\code{model_family} is "catch_at_age", it also adds default configurations for:
\itemize{
\item \strong{Selectivity:} A logistic selectivity module for each unique fleet.
\item \strong{Recruitment:} A Beverton--Holt recruitment module.
\item \strong{Growth:} An empirical weight-at-age (EWAA) growth module.
\item \strong{Maturity:} A logistic maturity module.
}
The final output is a nested tibble, which serves as a starting point for
building a complete FIMS model configuration.
}
\examples{
# Load the example dataset and create a FIMS data frame
data("data1")
fims_frame <- FIMSFrame(data1)

# Create the default model configuration tibble
default_configurations <- create_default_configurations(data = fims_frame)

# Unnest the data column to see detailed configurations
default_configurations_unnest <- default_configurations |>
  tidyr::unnest(cols = data) |>
  print()

# Model fleet1 with double logistic selectivity
configurations_double_logistic <- default_configurations_unnest |>
  dplyr::rows_update(
    tibble::tibble(
      module_name = "Selectivity",
      fleet_name = "fleet1",
      module_type = "DoubleLogistic"
    ),
  by = c("module_name", "fleet_name")
  ) |>
  print()
}
