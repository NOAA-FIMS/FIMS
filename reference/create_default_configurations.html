<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a default FIMS configuration tibble — create_default_configurations • FIMS</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Create a default FIMS configuration tibble — create_default_configurations"><meta name="description" content="This function generates a default configuration tibble for a Fisheries
Integrated Modeling System (FIMS) model based on the data input. It
automatically creates configuration entries for data modules (e.g., landings,
index, compositions) and, depending on the model family, standard population
dynamics modules (recruitment, growth, maturity) and selectivity modules for
fleets."><meta property="og:description" content="This function generates a default configuration tibble for a Fisheries
Integrated Modeling System (FIMS) model based on the data input. It
automatically creates configuration entries for data modules (e.g., landings,
index, compositions) and, depending on the model family, standard population
dynamics modules (recruitment, growth, maturity) and selectivity modules for
fleets."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FIMS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://github.com/NOAA-FIMS/FIMS/releases/latest">Latest release</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/noaa-fims/fims/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create a default FIMS configuration tibble</h1>
      <small class="dont-index">Source: <a href="https://github.com/noaa-fims/fims/blob/main/R/create_default_configurations.R" class="external-link"><code>R/create_default_configurations.R</code></a></small>
      <div class="d-none name"><code>create_default_configurations.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function generates a default configuration tibble for a Fisheries
Integrated Modeling System (FIMS) model based on the data input. It
automatically creates configuration entries for data modules (e.g., landings,
index, compositions) and, depending on the model family, standard population
dynamics modules (recruitment, growth, maturity) and selectivity modules for
fleets.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_default_configurations</span><span class="op">(</span><span class="va">data</span>, model_family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"catch_at_age"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>An S4 object of class <code>FIMSFrame</code>. FIMS input data.</p></dd>


<dt id="arg-model-family">model_family<a class="anchor" aria-label="anchor" href="#arg-model-family"></a></dt>
<dd><p>A string specifying the model family.
Defaults to <code>"catch_at_age"</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>tibble</code> with default model configurations. The tibble has a nested
structure with the following top-level columns.</p><dl><dt><code>model_family</code>:</dt>
<dd><p>The specified model family (e.g.,
"catch_at_age").</p></dd>

<dt><code>module_name</code>:</dt>
<dd><p>The name of the FIMS module (e.g.,
"Data", "Selectivity", "Recruitment", "Growth", "Maturity").</p></dd>

<dt><code>fleet_name</code>:</dt>
<dd><p>The name of the fleet the module applies to. This
will be <code>NA</code> for non-fleet-specific modules like "Recruitment".</p></dd>

<dt><code>data</code>:</dt>
<dd><p>A list-column containing a <code>tibble</code> with detailed
configurations. Unnesting this column reveals:</p><dl><dt><code>module_type</code>:</dt>
<dd><p>The specific type of the module (e.g.,
"Logistic" for a "Selectivity" module).</p></dd>

<dt><code>distribution_link</code>:</dt>
<dd><p>The component the distribution module
links to.</p></dd>

<dt><code>distribution_type</code>:</dt>
<dd><p>The type of distribution (e.g., "Data",
"process").</p></dd>

<dt><code>distribution</code>:</dt>
<dd><p>The name of distribution (e.g.,
"Dlnorm", <code>Dmultinom</code>).</p></dd>


</dl></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function inspects the data to find unique combinations of fleet
names and data types. It then maps these to the appropriate FIMS module names
and joins them with a predefined template of default settings. When the
<code>model_family</code> is "catch_at_age", it also adds default configurations for:</p><ul><li><p><strong>Selectivity:</strong> A logistic selectivity module for each unique fleet.</p></li>
<li><p><strong>Recruitment:</strong> A Beverton–Holt recruitment module.</p></li>
<li><p><strong>Growth:</strong> An empirical weight-at-age (EWAA) growth module.</p></li>
<li><p><strong>Maturity:</strong> A logistic maturity module.</p></li>
</ul><p>The final output is a nested tibble, which serves as a starting point for
building a complete FIMS model configuration.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load the example dataset and create a FIMS data frame</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"data1"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fims_frame</span> <span class="op">&lt;-</span> <span class="fu"><a href="FIMSFrame.html">FIMSFrame</a></span><span class="op">(</span><span class="va">data1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create the default model configuration tibble</span></span></span>
<span class="r-in"><span><span class="va">default_configurations</span> <span class="op">&lt;-</span> <span class="fu">create_default_configurations</span><span class="op">(</span>data <span class="op">=</span> <span class="va">fims_frame</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Unnest the data column to see detailed configurations</span></span></span>
<span class="r-in"><span><span class="va">default_configurations_unnest</span> <span class="op">&lt;-</span> <span class="va">default_configurations</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="va">data</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 11 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    model_family module_name fleet_name module_type  distribution_link</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> catch_at_age Data        fleet1     AgeComp      AgeComp          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> catch_at_age Data        fleet1     Landings     Landings         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> catch_at_age Data        fleet1     LengthComp   LengthComp       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> catch_at_age Selectivity fleet1     Logistic     <span style="color: #BB0000;">NA</span>               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> catch_at_age Data        survey1    AgeComp      AgeComp          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> catch_at_age Data        survey1    Index        Index            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> catch_at_age Data        survey1    LengthComp   LengthComp       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> catch_at_age Selectivity survey1    Logistic     <span style="color: #BB0000;">NA</span>               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> catch_at_age Growth      <span style="color: #BB0000;">NA</span>         EWAA         <span style="color: #BB0000;">NA</span>               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> catch_at_age Maturity    <span style="color: #BB0000;">NA</span>         Logistic     <span style="color: #BB0000;">NA</span>               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> catch_at_age Recruitment <span style="color: #BB0000;">NA</span>         BevertonHolt log_devs         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2 more variables: distribution_type &lt;chr&gt;, distribution &lt;chr&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Model fleet1 with double logistic selectivity</span></span></span>
<span class="r-in"><span><span class="va">configurations_double_logistic</span> <span class="op">&lt;-</span> <span class="va">default_configurations_unnest</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rows.html" class="external-link">rows_update</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      module_name <span class="op">=</span> <span class="st">"Selectivity"</span>,</span></span>
<span class="r-in"><span>      fleet_name <span class="op">=</span> <span class="st">"fleet1"</span>,</span></span>
<span class="r-in"><span>      module_type <span class="op">=</span> <span class="st">"DoubleLogistic"</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"module_name"</span>, <span class="st">"fleet_name"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 11 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    model_family module_name fleet_name module_type    distribution_link</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> catch_at_age Data        fleet1     AgeComp        AgeComp          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> catch_at_age Data        fleet1     Landings       Landings         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> catch_at_age Data        fleet1     LengthComp     LengthComp       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> catch_at_age Selectivity fleet1     DoubleLogistic <span style="color: #BB0000;">NA</span>               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> catch_at_age Data        survey1    AgeComp        AgeComp          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> catch_at_age Data        survey1    Index          Index            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> catch_at_age Data        survey1    LengthComp     LengthComp       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> catch_at_age Selectivity survey1    Logistic       <span style="color: #BB0000;">NA</span>               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> catch_at_age Growth      <span style="color: #BB0000;">NA</span>         EWAA           <span style="color: #BB0000;">NA</span>               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> catch_at_age Maturity    <span style="color: #BB0000;">NA</span>         Logistic       <span style="color: #BB0000;">NA</span>               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> catch_at_age Recruitment <span style="color: #BB0000;">NA</span>         BevertonHolt   log_devs         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2 more variables: distribution_type &lt;chr&gt;, distribution &lt;chr&gt;</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kelli F. Johnson, Jon K. T. Brodziak, Kathryn L. Doering, Andrea M. Havron, Ronald Klasky, Peter T. Kuriyama, Christopher M. Legault, Bai Li, Timothy J. Miller, Cole C. Monnahan, Megumi C. Oshima, Kyle W. Shertzer, Christine C. Stawitz, Jane Y. Sullivan, Matthew Supernaw, Ian G. Taylor, Nathan R. Vaughan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

